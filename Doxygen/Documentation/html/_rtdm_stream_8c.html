<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTDM/IELF Application Software: RtdmStream.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTDM/IELF Application Software
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e6bb53534ac0e427887cf7a94c0c004e.html">C:</a></li><li class="navelem"><a class="el" href="dir_8ceffd4ee35c3518d4e8bdc7e638efe8.html">Users</a></li><li class="navelem"><a class="el" href="dir_c21e549c5d06bed9bef6fe6ec0f471cb.html">Dave</a></li><li class="navelem"><a class="el" href="dir_2220448309bd52b1984b9bf33c415a87.html">workspace</a></li><li class="navelem"><a class="el" href="dir_324c749eaba7ded3abf2f0dc473c08ad.html">BART_RTDM</a></li><li class="navelem"><a class="el" href="dir_2ced80d5746a4759c97f11bbcdc461fb.html">RTDMStream</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">RtdmStream.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;global_mwt.h&quot;</code><br />
<code>#include &quot;rts_api.h&quot;</code><br />
<code>#include &quot;../include/iptcom.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_rtdm_utils_8h_source.html">../RtdmStream/RtdmUtils.h</a>&quot;</code><br />
<code>#include &quot;../RtdmStream/RtdmStream.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_rtdm_data_log_8h_source.html">../RtdmStream/RtdmDataLog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_rtdm_file_ext_8h_source.html">../RtdmFileIO/RtdmFileExt.h</a>&quot;</code><br />
<code>#include &quot;RtdmCrc32.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for RtdmStream.c:</div>
<div class="dyncontent">
<div class="center"><img src="_rtdm_stream_8c__incl.png" border="0" usemap="#_rtdm_stream_8c" alt=""/></div>
<map name="_rtdm_stream_8c" id="_rtdm_stream_8c">
<area shape="rect" id="node5" href="_rtdm_utils_8h.html" title="../RtdmStream/RtdmUtils.h" alt="" coords="400,80,595,107"/>
<area shape="rect" id="node6" href="_rtdm_stream_8h_source.html" title="../RtdmStream/RtdmStream.h" alt="" coords="619,80,834,107"/>
<area shape="rect" id="node9" href="_rtdm_data_log_8h.html" title="../RtdmStream/RtdmDataLog.h" alt="" coords="858,80,1078,107"/>
<area shape="rect" id="node10" href="_rtdm_file_ext_8h.html" title="../RtdmFileIO/RtdmFileExt.h" alt="" coords="1102,80,1295,107"/>
<area shape="rect" id="node11" href="_rtdm_crc32_8h_source.html" title="RtdmCrc32.h" alt="" coords="1319,80,1425,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad8e4dfea2ac392f87e4765e2b26e2bba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#ad8e4dfea2ac392f87e4765e2b26e2bba">NormalStreamProcessing</a> (struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *interface)</td></tr>
<tr class="memdesc:ad8e4dfea2ac392f87e4765e2b26e2bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Responsible for gathering stream data and processing it.  <a href="#ad8e4dfea2ac392f87e4765e2b26e2bba">More...</a><br /></td></tr>
<tr class="separator:ad8e4dfea2ac392f87e4765e2b26e2bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6528662a38790534faa78ac909a678"><td class="memItemLeft" align="right" valign="top"><a id="a5d6528662a38790534faa78ac909a678"></a>
static UINT16&#160;</td><td class="memItemRight" valign="bottom"><b>NetworkAvailable</b> (struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *interface, BOOL *networkAvailable)</td></tr>
<tr class="separator:a5d6528662a38790534faa78ac909a678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2986fb69f5f9ac95e7a1181598f454f2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a2986fb69f5f9ac95e7a1181598f454f2">ServiceStream</a> (struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *interface, BOOL networkAvailable, UINT32 newChangedDataBytes, <a class="el" href="struct_r_t_d_m_time_str.html">RTDMTimeStr</a> *currentTime)</td></tr>
<tr class="memdesc:a2986fb69f5f9ac95e7a1181598f454f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Responsible for creating a single sample of stream data.  <a href="#a2986fb69f5f9ac95e7a1181598f454f2">More...</a><br /></td></tr>
<tr class="separator:a2986fb69f5f9ac95e7a1181598f454f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8c005aa3a2b0f2f010c4a67f148941"><td class="memItemLeft" align="right" valign="top">static UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#afb8c005aa3a2b0f2f010c4a67f148941">CreateSingleSampleStream</a> (struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *interface, <a class="el" href="struct_r_t_d_m_time_str.html">RTDMTimeStr</a> *currentTime)</td></tr>
<tr class="memdesc:afb8c005aa3a2b0f2f010c4a67f148941"><td class="mdescLeft">&#160;</td><td class="mdescRight">Responsible for creating a single sample of stream data.  <a href="#afb8c005aa3a2b0f2f010c4a67f148941">More...</a><br /></td></tr>
<tr class="separator:afb8c005aa3a2b0f2f010c4a67f148941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac934ac5ab8b46e67a7317a71e0f92609"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#ac934ac5ab8b46e67a7317a71e0f92609">PopulateSignalsWithNewSamples</a> (void)</td></tr>
<tr class="memdesc:ac934ac5ab8b46e67a7317a71e0f92609"><td class="mdescLeft">&#160;</td><td class="mdescRight">Responsible for populating the new signal data buffer.  <a href="#ac934ac5ab8b46e67a7317a71e0f92609">More...</a><br /></td></tr>
<tr class="separator:ac934ac5ab8b46e67a7317a71e0f92609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75eaa77d5f3811ad509d042e7d5b64f8"><td class="memItemLeft" align="right" valign="top">static UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a75eaa77d5f3811ad509d042e7d5b64f8">PopulateBufferWithChanges</a> (UINT16 *signalCount, <a class="el" href="struct_r_t_d_m_time_str.html">RTDMTimeStr</a> *currentTime)</td></tr>
<tr class="memdesc:a75eaa77d5f3811ad509d042e7d5b64f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Responsible for populating buffer when data changes.  <a href="#a75eaa77d5f3811ad509d042e7d5b64f8">More...</a><br /></td></tr>
<tr class="separator:a75eaa77d5f3811ad509d042e7d5b64f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b9407b47c56450b75aff4b72914150"><td class="memItemLeft" align="right" valign="top"><a id="a65b9407b47c56450b75aff4b72914150"></a>
static UINT16&#160;</td><td class="memItemRight" valign="bottom"><b>Check_Fault</b> (UINT16 error_code, <a class="el" href="struct_r_t_d_m_time_str.html">RTDMTimeStr</a> *currentTime)</td></tr>
<tr class="separator:a65b9407b47c56450b75aff4b72914150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46830470073a655b7d335a562ff5e885"><td class="memItemLeft" align="right" valign="top"><a id="a46830470073a655b7d335a562ff5e885"></a>
static UINT16&#160;</td><td class="memItemRight" valign="bottom"><b>SendStreamOverNetwork</b> (struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *interface, <a class="el" href="struct_rtdm_xml_str.html">RtdmXmlStr</a> *rtdmXmlData, UINT8 *streamBuffer, UINT32 streamBufferSize)</td></tr>
<tr class="separator:a46830470073a655b7d335a562ff5e885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe12496e11a72b745e0a60e83702485"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a8fe12496e11a72b745e0a60e83702485">InitializeRtdmStream</a> (<a class="el" href="struct_rtdm_xml_str.html">RtdmXmlStr</a> *rtdmXmlData)</td></tr>
<tr class="memdesc:a8fe12496e11a72b745e0a60e83702485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes RTDM stream functionality.  <a href="#a8fe12496e11a72b745e0a60e83702485">More...</a><br /></td></tr>
<tr class="separator:a8fe12496e11a72b745e0a60e83702485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23c01e15e60b5441fe8559db057a7b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#ae23c01e15e60b5441fe8559db057a7b1">RtdmStream</a> (struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *interface)</td></tr>
<tr class="memdesc:ae23c01e15e60b5441fe8559db057a7b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked every 50 msecs by the OS to perform RTDM stream processing.  <a href="#ae23c01e15e60b5441fe8559db057a7b1">More...</a><br /></td></tr>
<tr class="separator:ae23c01e15e60b5441fe8559db057a7b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96bc3f40fbf826e1ed302bc74619c77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#af96bc3f40fbf826e1ed302bc74619c77">SetRtdmInitFinished</a> (void)</td></tr>
<tr class="memdesc:af96bc3f40fbf826e1ed302bc74619c77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when RTDM initialization complete.  <a href="#af96bc3f40fbf826e1ed302bc74619c77">More...</a><br /></td></tr>
<tr class="separator:af96bc3f40fbf826e1ed302bc74619c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a730b5a935e27bf9fc734ea7b8e0dc8ff"><td class="memItemLeft" align="right" valign="top"><a id="a730b5a935e27bf9fc734ea7b8e0dc8ff"></a>
static UINT16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a730b5a935e27bf9fc734ea7b8e0dc8ff">m_SampleCount</a> = 0</td></tr>
<tr class="memdesc:a730b5a935e27bf9fc734ea7b8e0dc8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the current sample count; incremented every 50 msecs if data has been placed in the stream buffer. <br /></td></tr>
<tr class="separator:a730b5a935e27bf9fc734ea7b8e0dc8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ee94b5a7734db90601e1cafa9719d2"><td class="memItemLeft" align="right" valign="top"><a id="a45ee94b5a7734db90601e1cafa9719d2"></a>
static UINT8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a45ee94b5a7734db90601e1cafa9719d2">m_StreamData</a> = NULL</td></tr>
<tr class="memdesc:a45ee94b5a7734db90601e1cafa9719d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer to store all stream data. <br /></td></tr>
<tr class="separator:a45ee94b5a7734db90601e1cafa9719d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ee2aee57f5313d7a158200daeb9bc0"><td class="memItemLeft" align="right" valign="top"><a id="a69ee2aee57f5313d7a158200daeb9bc0"></a>
static <a class="el" href="struct_data_sample_str.html">DataSampleStr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a69ee2aee57f5313d7a158200daeb9bc0">m_SampleHeader</a></td></tr>
<tr class="memdesc:a69ee2aee57f5313d7a158200daeb9bc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer that stores the single sample stream header. <br /></td></tr>
<tr class="separator:a69ee2aee57f5313d7a158200daeb9bc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1402807edd89a6f9bf90294c5c4bad5"><td class="memItemLeft" align="right" valign="top"><a id="aa1402807edd89a6f9bf90294c5c4bad5"></a>
static UINT8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#aa1402807edd89a6f9bf90294c5c4bad5">m_NewSignalData</a> = NULL</td></tr>
<tr class="memdesc:aa1402807edd89a6f9bf90294c5c4bad5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer that stores the new signal id and data. <br /></td></tr>
<tr class="separator:aa1402807edd89a6f9bf90294c5c4bad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fbc4adcfac172e74a04b2147f78b9b6"><td class="memItemLeft" align="right" valign="top"><a id="a4fbc4adcfac172e74a04b2147f78b9b6"></a>
static UINT8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a4fbc4adcfac172e74a04b2147f78b9b6">m_OldSignalData</a> = NULL</td></tr>
<tr class="memdesc:a4fbc4adcfac172e74a04b2147f78b9b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer that stores the old signal id and data. <br /></td></tr>
<tr class="separator:a4fbc4adcfac172e74a04b2147f78b9b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977a91bd463148f39675e75d36fe99f2"><td class="memItemLeft" align="right" valign="top"><a id="a977a91bd463148f39675e75d36fe99f2"></a>
static UINT8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a977a91bd463148f39675e75d36fe99f2">m_ChangedSignalData</a> = NULL</td></tr>
<tr class="memdesc:a977a91bd463148f39675e75d36fe99f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer that stores the changed signal id and data. <br /></td></tr>
<tr class="separator:a977a91bd463148f39675e75d36fe99f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d545321e7559c1d679f4ff125dddc05"><td class="memItemLeft" align="right" valign="top"><a id="a2d545321e7559c1d679f4ff125dddc05"></a>
static <a class="el" href="struct_rtdm_xml_str.html">RtdmXmlStr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a2d545321e7559c1d679f4ff125dddc05">m_RtdmXmlData</a></td></tr>
<tr class="memdesc:a2d545321e7559c1d679f4ff125dddc05"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to RTDM XML configuration data <br /></td></tr>
<tr class="separator:a2d545321e7559c1d679f4ff125dddc05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4638665c8aa5e0c9e303e3e49663ce24"><td class="memItemLeft" align="right" valign="top"><a id="a4638665c8aa5e0c9e303e3e49663ce24"></a>
static BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a4638665c8aa5e0c9e303e3e49663ce24">m_InitFinished</a> = FALSE</td></tr>
<tr class="memdesc:a4638665c8aa5e0c9e303e3e49663ce24"><td class="mdescLeft">&#160;</td><td class="mdescRight">becomes TRUE when initialization is finished <br /></td></tr>
<tr class="separator:a4638665c8aa5e0c9e303e3e49663ce24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a894bccee34b76a11382a590c77383ed2"><td class="memItemLeft" align="right" valign="top"><a id="a894bccee34b76a11382a590c77383ed2"></a>
static BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rtdm_stream_8c.html#a894bccee34b76a11382a590c77383ed2">m_MemoryAllocationError</a> = FALSE</td></tr>
<tr class="memdesc:a894bccee34b76a11382a590c77383ed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">becomes TRUE if dynamic memory couldn't be performed <br /></td></tr>
<tr class="separator:a894bccee34b76a11382a590c77383ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad8e4dfea2ac392f87e4765e2b26e2bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e4dfea2ac392f87e4765e2b26e2bba">&sect;&nbsp;</a></span>NormalStreamProcessing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void NormalStreamProcessing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *&#160;</td>
          <td class="paramname"><em>interface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Responsible for gathering stream data and processing it. </p>
<p>This function is responsible for calling functions that collect all of the new data, save it to either a stream buffer or data log buffer and let other functions perform the desired processing. Details of the processing can be found in the called functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interface</td><td>- pointer to MTPE module interface data </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_rtdm_stream_8c_ad8e4dfea2ac392f87e4765e2b26e2bba_cgraph.png" border="0" usemap="#_rtdm_stream_8c_ad8e4dfea2ac392f87e4765e2b26e2bba_cgraph" alt=""/></div>
<map name="_rtdm_stream_8c_ad8e4dfea2ac392f87e4765e2b26e2bba_cgraph" id="_rtdm_stream_8c_ad8e4dfea2ac392f87e4765e2b26e2bba_cgraph">
<area shape="rect" id="node2" href="_rtdm_utils_8c.html#ac471e5b77f303b378914c1d6e63ccfd9" title="Reads the system time. " alt="" coords="240,5,355,32"/>
</map>
</div>

</div>
</div>
<a id="a2986fb69f5f9ac95e7a1181598f454f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2986fb69f5f9ac95e7a1181598f454f2">&sect;&nbsp;</a></span>ServiceStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ServiceStream </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *&#160;</td>
          <td class="paramname"><em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>networkAvailable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>newChangedDataBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_t_d_m_time_str.html">RTDMTimeStr</a> *&#160;</td>
          <td class="paramname"><em>currentTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Responsible for creating a single sample of stream data. </p>
<p>This function populates the new signal data buffer with the signal id and data. The signal id is always 2 bytes and the data size is either 1, 2, or 4 bytes. This function also performs network byte ordering in case this code is ever executed on a little Endian machine. Currently, the DAN viewer only supports big Endian.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interface</td><td>- pointer to MTPE module interface data </td></tr>
    <tr><td class="paramname">networkAvailable</td><td>- TRUE if network available </td></tr>
    <tr><td class="paramname">newChangedDataBytes</td><td>- amount of data that has changed (cumulative signal Id and data) </td></tr>
    <tr><td class="paramname">currentTime</td><td>- system time </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb8c005aa3a2b0f2f010c4a67f148941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb8c005aa3a2b0f2f010c4a67f148941">&sect;&nbsp;</a></span>CreateSingleSampleStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static UINT32 CreateSingleSampleStream </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *&#160;</td>
          <td class="paramname"><em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_t_d_m_time_str.html">RTDMTimeStr</a> *&#160;</td>
          <td class="paramname"><em>currentTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Responsible for creating a single sample of stream data. </p>
<p>This function populates the new signal data buffer with the signal id and data. The signal id is always 2 bytes and the data size is either 1, 2, or 4 bytes. This function also performs network byte ordering in case this code is ever executed on a little Endian machine. Currently, the DAN viewer only supports big Endian.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interface</td><td>- pointer to MTPE module interface data </td></tr>
    <tr><td class="paramname">currentTime</td><td>- system time</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>UINT32 - the amount of signal Id and data (bytes) to populate the stream buffer with * </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_rtdm_stream_8c_afb8c005aa3a2b0f2f010c4a67f148941_cgraph.png" border="0" usemap="#_rtdm_stream_8c_afb8c005aa3a2b0f2f010c4a67f148941_cgraph" alt=""/></div>
<map name="_rtdm_stream_8c_afb8c005aa3a2b0f2f010c4a67f148941_cgraph" id="_rtdm_stream_8c_afb8c005aa3a2b0f2f010c4a67f148941_cgraph">
<area shape="rect" id="node2" href="_rtdm_stream_8c.html#a75eaa77d5f3811ad509d042e7d5b64f8" title="Responsible for populating buffer when data changes. " alt="" coords="255,5,453,32"/>
<area shape="rect" id="node3" href="_rtdm_utils_8c.html#ae86a63f7ce7b5c6f6c48146e806907de" title="Calculates the difference between 2 stored times. " alt="" coords="501,5,576,32"/>
</map>
</div>

</div>
</div>
<a id="ac934ac5ab8b46e67a7317a71e0f92609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac934ac5ab8b46e67a7317a71e0f92609">&sect;&nbsp;</a></span>PopulateSignalsWithNewSamples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PopulateSignalsWithNewSamples </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Responsible for populating the new signal data buffer. </p>
<p>This function populates the new signal data buffer with the signal id and the most recent data. The signal id is always 2 bytes and the data size is either 1, 2, or 4 bytes. This function also performs network byte ordering in case this code is ever executed on a little endian machine. Currently, the DAN viewer only supports big endian. </p>

</div>
</div>
<a id="a75eaa77d5f3811ad509d042e7d5b64f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75eaa77d5f3811ad509d042e7d5b64f8">&sect;&nbsp;</a></span>PopulateBufferWithChanges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static UINT32 PopulateBufferWithChanges </td>
          <td>(</td>
          <td class="paramtype">UINT16 *&#160;</td>
          <td class="paramname"><em>signalCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_t_d_m_time_str.html">RTDMTimeStr</a> *&#160;</td>
          <td class="paramname"><em>currentTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Responsible for populating buffer when data changes. </p>
<p>This function determines if any of the monitored data has changed from the previous sample or if the max amount of time since the data was last logged has expired. If either the data has changed or the time has expired, the data is copied into the changed signal buffer and will be streamed. Typically called when data compression is enabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signalCount</td><td>- updated by function; amount of signals that have changed </td></tr>
    <tr><td class="paramname">currentTime</td><td>- system time</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>UINT32 - the amount of signal Id and data (bytes) to populate the stream buffer with </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_rtdm_stream_8c_a75eaa77d5f3811ad509d042e7d5b64f8_cgraph.png" border="0" usemap="#_rtdm_stream_8c_a75eaa77d5f3811ad509d042e7d5b64f8_cgraph" alt=""/></div>
<map name="_rtdm_stream_8c_a75eaa77d5f3811ad509d042e7d5b64f8_cgraph" id="_rtdm_stream_8c_a75eaa77d5f3811ad509d042e7d5b64f8_cgraph">
<area shape="rect" id="node2" href="_rtdm_utils_8c.html#ae86a63f7ce7b5c6f6c48146e806907de" title="Calculates the difference between 2 stored times. " alt="" coords="252,5,327,32"/>
</map>
</div>

</div>
</div>
<a id="a8fe12496e11a72b745e0a60e83702485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe12496e11a72b745e0a60e83702485">&sect;&nbsp;</a></span>InitializeRtdmStream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitializeRtdmStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_rtdm_xml_str.html">RtdmXmlStr</a> *&#160;</td>
          <td class="paramname"><em>rtdmXmlData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes RTDM stream functionality. </p>
<p>This function is initializes data and invokes OS operations to dynamically allocate memory based. NOTE: dynamic memory allocation is performed only during initialization and never during run-time to avoid memory leaks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtdmXmlData</td><td>- pointer to data retrieved from teh XML configuration file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae23c01e15e60b5441fe8559db057a7b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae23c01e15e60b5441fe8559db057a7b1">&sect;&nbsp;</a></span>RtdmStream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RtdmStream </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdata_block___rtdm_stream.html">dataBlock_RtdmStream</a> *&#160;</td>
          <td class="paramname"><em>interface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoked every 50 msecs by the OS to perform RTDM stream processing. </p>
<p>This function is invoked every 50 msecs (specified in the MTPE tool). It's responsibility is to first perform RTDM initialization and then call data sampling and logging functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interface</td><td>- pointer to MTPE module interface data </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_rtdm_stream_8c_ae23c01e15e60b5441fe8559db057a7b1_cgraph.png" border="0" usemap="#_rtdm_stream_8c_ae23c01e15e60b5441fe8559db057a7b1_cgraph" alt=""/></div>
<map name="_rtdm_stream_8c_ae23c01e15e60b5441fe8559db057a7b1_cgraph" id="_rtdm_stream_8c_ae23c01e15e60b5441fe8559db057a7b1_cgraph">
<area shape="rect" id="node2" href="_rtdm_file_ext_8h.html#a9e7b5a53dd9236c47a673ff5d5f79fa3" title="Initializes the RTDM File I/O component. " alt="" coords="173,56,329,83"/>
<area shape="rect" id="node9" href="_rtdm_stream_8c.html#ad8e4dfea2ac392f87e4765e2b26e2bba" title="Responsible for gathering stream data and processing it. " alt="" coords="157,107,344,133"/>
<area shape="rect" id="node11" href="_rtdm_utils_8c.html#a8f4089aef4c6fc590163f46f57f49843" title="Determined if a file exists. " alt="" coords="211,157,291,184"/>
<area shape="rect" id="node3" href="_rtdm_file_i_o_8c.html#af788565d7f19b7446f9f732a68386402" title="Causes the OS to trigger a File I/O operation. " alt="" coords="392,56,591,83"/>
<area shape="rect" id="node4" href="_rtdm_file_i_o_8c.html#a411b6b48000d99b8e753325df093b1c4" title="Function invoked by OS when trigger BOOL set TRUE. " alt="" coords="639,56,729,83"/>
<area shape="rect" id="node5" href="_r_t_d_m_initialize_8c.html#aaf4ee2331ff055f5bfeae051f4d23293" title="Responsible for initializing the RTDM functionality. " alt="" coords="777,5,960,32"/>
<area shape="rect" id="node7" href="_rtdm_file_i_o_8c.html#a475576dbdbf7556c640cec0ef22bb282" title="Creates or appends a stream to a #.stream file. " alt="" coords="807,56,930,83"/>
<area shape="rect" id="node8" href="_rtdm_file_i_o_8c.html#adfca07aca62bf5f9070c095e4f2f999d" title="Closes the current stream file. " alt="" coords="805,107,932,133"/>
<area shape="rect" id="node6" href="_rtdm_utils_8c.html#afb182e9d86d4c2b584aa416f6d0d7507" title="Verifies the storage directory exists and creates it if it doesn&#39;t. " alt="" coords="1008,5,1219,32"/>
<area shape="rect" id="node10" href="_rtdm_utils_8c.html#ac471e5b77f303b378914c1d6e63ccfd9" title="Reads the system time. " alt="" coords="434,107,549,133"/>
</map>
</div>

</div>
</div>
<a id="af96bc3f40fbf826e1ed302bc74619c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af96bc3f40fbf826e1ed302bc74619c77">&sect;&nbsp;</a></span>SetRtdmInitFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetRtdmInitFinished </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when RTDM initialization complete. </p>
<p>This function exists to avoid global variables. It is a mutator function to change the state of "m_InitFinished" to TRUE. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 7 2016 09:33:28 for RTDM/IELF Application Software by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
